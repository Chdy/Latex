\documentclass[10pt,a4paper]{article}
%\usepackage{ctex}
\usepackage{CJK}
\usepackage{color}
\usepackage[left=1.2in,right=1.2in,top=1.5in,bottom=1.5in]{geometry} %导入页面边距宏
\usepackage{fancyhdr} %导入页眉页脚宏
\usepackage{lastpage} %引用页数信息
\usepackage{setspace} %行间距
\usepackage{graphicx} %插入图片
\usepackage{amsmath} %数学公式处理 align环境
\usepackage{tikz} %画图
\usepackage{pgfplots} %画图用 axis环境
\usepackage{lmodern} %下行的使用需要这行
\usepackage[T1]{fontenc} %用于处理下划线等输出
\usepackage{textcomp} %\textasciitilde中划线 \textunderscore下划线
\usepackage{listings}
 \lstset{
      %行号
      numbers=left,
      %背景框
      framexleftmargin=10mm,
      frame=none,
     %背景色
     %backgroundcolor=\color[rgb]{1,1,0.76},
     %backgroundcolor=\color[RGB]{245,245,244},
     %样式
     keywordstyle=\bf\color[RGB]{0,0,128},
     identifierstyle=\bf,
     numberstyle=\color[gray]{0.2},
     commentstyle=\color[gray]{0.1},
     stringstyle=\rmfamily\slshape\color[RGB]{0,128,0},
     %显示空格
     showstringspaces=false
}

\usepackage[pdfstartview=FitH,
CJKbookmarks=true,
bookmarksnumbered=true,
bookmarksopen=true,
colorlinks,
pdfborder=001,
linkcolor=blue,
anchorcolor=blue,
citecolor=blue,
]{hyperref} %实现目录和章节的超链接
\hypersetup{hidelinks}

\pagestyle{fancy} %页面样式
\lhead{Chdy} %左页眉
%\chead{\begin{CJK}{UTF8}{gbsn}{\leftmark} \end{CJK}} %中间页眉
\rhead{\begin{CJK}{UTF8}{gbsn}{\leftmark} \end{CJK}} %右页眉
\rfoot{\thepage} 
\cfoot{}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\author{Dy\footnote{837123564@qq.com}}
\title{Latex}
\date{\today}
\maketitle
\thispagestyle{empty} %去除因maketitle而产生的页码
\newpage
\tableofcontents
\lstset{language=C,numbers=none}

\begin{lstlisting}
int open(const char *path, int flag, ...)
\end{lstlisting}

\end{CJK}
\end{document}